<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>hummingcat.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Hummingcat 1.2.2 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>hummingcat</span></div></div></li><li class="depth-2 current"><a href="hummingcat.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="hummingcat.core.html#var-def-handler"><div class="inner"><span>def-handler</span></div></a></li><li class="depth-1"><a href="hummingcat.core.html#var-def-route"><div class="inner"><span>def-route</span></div></a></li><li class="depth-1"><a href="hummingcat.core.html#var-default_404"><div class="inner"><span>default_404</span></div></a></li><li class="depth-1"><a href="hummingcat.core.html#var-get"><div class="inner"><span>get</span></div></a></li><li class="depth-1"><a href="hummingcat.core.html#var-post"><div class="inner"><span>post</span></div></a></li><li class="depth-1"><a href="hummingcat.core.html#var-redirect"><div class="inner"><span>redirect</span></div></a></li><li class="depth-1"><a href="hummingcat.core.html#var-response"><div class="inner"><span>response</span></div></a></li><li class="depth-1"><a href="hummingcat.core.html#var-run"><div class="inner"><span>run</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">hummingcat.core</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-def-handler"><h3>def-handler</h3><h4 class="type">macro</h4><div class="usage"><code>(def-handler variable parameter &amp; args)</code></div><div class="doc"><pre class="plaintext">
Define a handler by passing in a series of routes.
These can either be made with `def-route`, `get`, or `post`.
Note that, while each of these methods take a handler as the
first parameter, this handler is supplied by `def-handler`.

Example:

  (def-handler my_handler [request]
    (get #&quot;^/hello_world$&quot; &quot;Hello World!&quot;))
</pre></div></div><div class="public anchor" id="var-def-route"><h3>def-route</h3><div class="usage"><code>(def-route handler method path response_a)</code></div><div class="doc"><pre class="plaintext">
This is used to define a route, passing in a method and a
path to match, and also a response to return.

This response can either be a string or a hash like this:

  {:status 200, :body &quot;&lt;html&gt;&lt;/html&gt;&quot;, :headers {&quot;Content-Type&quot; &quot;text/html&quot;}}

This response hash is equivalent to just the string
&quot;&lt;html&gt;&lt;/html&gt;&quot;. Note, this means the defaults are 200,
for the status, and text/html for the content-type.

If you want to create http responses that do not use these
defaults, hummingcat provides the methods `response` and
`redirect`, among others. There is documentation for these too.

Example:

  ; This is equivalent to hummingcat/get.
  (defn get [handler path response] (def-route handler :get path response))
</pre></div></div><div class="public anchor" id="var-default_404"><h3>default_404</h3><div class="usage"><code>(default_404 request)</code></div><div class="doc"><pre class="plaintext">
A 404 (Not Found) response.

Used internally when no route matches a url.
</pre></div></div><div class="public anchor" id="var-get"><h3>get</h3><div class="usage"><code>(get handler path res)</code></div><div class="doc"><pre class="plaintext">
Used to match a get request, usually within the context of def-handler.

Keep in mind that this does not change the handler passed in,
`get` just returns a new handler that will match the &apos;path&apos; parameter.
</pre></div></div><div class="public anchor" id="var-post"><h3>post</h3><div class="usage"><code>(post handler path res)</code></div><div class="doc"><pre class="plaintext">
Used to match a post request, usually within the context of def-handler.

Keep in mind that this does not change the handler passed in,
`post` just returns a new handler that will match the &apos;path&apos; parameter.
</pre></div></div><div class="public anchor" id="var-redirect"><h3>redirect</h3><div class="usage"><code>(redirect request)</code></div><div class="doc"><pre class="plaintext">
A function that returns a response for an HTTP redirect, given a url.

Example:

(hummingcat/def-handler my_handler [request]
  (hummingcat/get &quot;/some_URL&quot; (redirect &quot;/this_one&quot;)))
</pre></div></div><div class="public anchor" id="var-response"><h3>response</h3><div class="usage"><code>(response body)</code><code>(response body status)</code><code>(response body status header)</code></div><div class="doc"><pre class="plaintext">
This function helps produce custom response-objects.
Furthermore, you can using response-objects to implement
cookies and the like, whereas passing in a string to `get`
or `def-route` does not enable this.

If you just want a response object to manipulate, but
don&apos;t want to specify custom settings, just pass a string
to the function:

(response &quot;Not found!&quot;)

However, if you want to make a custom status, add another
parameter:

(response &quot;Not found!&quot; 404)

You can also specify the content-type with an additional
string:

(response &quot;Not found!&quot; 404 &quot;text/plain&quot;)

Lastly, instead of passing in a string as the last
argument, you can put all the header-settings into a
hash-map as the third argument:

(response &quot;Not found!&quot; 404 i{&quot;Content-Type&quot; &quot;text/plain&quot;})
</pre></div></div><div class="public anchor" id="var-run"><h3>run</h3><div class="usage"><code>(run handler options)</code></div><div class="doc"><pre class="plaintext">
The `run` function takes a handler and an options hash and runs
your hummingcat app!

If the only option you have is a port, there&apos;s no need to wrap
it in a hash.
Thus, both of these are valid:

(hummingcat/run my_handler 2000)
(hummingcat/run my_handler {:port 2000})

Just remember to define `my_handler` with `hummingcat/def-handler`
</pre></div></div></div></body></html>